# R语言<数据类型-矩阵>

## 一、矩阵的声明

> `matrix`函数

```R
'''
matrix(data,  nrow, ncol, byrow, dimnames)
data:	 一个可选的数据向量（包括一个列表或表达式向量）
nrow:	 开辟矩阵行数	
ncol:	 开辟矩阵列数
byrow:	 FALSE（默认），矩阵将按列填充，否则矩阵将按行填充。
dimnames: 分别给出行和列的名称。
'''
m1 <- matrix(
  1:6, 
  nrow=2,
  # ncol=3,
  byrow=F,
  dimnames=list(c("r1", "r2"),
                c("c1", "c2", "c3"))
)
'''
print(m1): 
	c1	c2	c3
r1	1	3	5
r2	2	4	6
'''
```

> `byrow=T`, 生成的矩阵:

```R
m2 <- matrix(
	c(1:6, letters[1:6]),
    nrow=3,
    byrow=T,
    dimnames=list(c("r1", "r2", "r3"),
                 c("c1", "c2", "c3", "c4"))
)
'''
print(m2):
	c1		c2		c3		c4
r1	"1"		"2"		“3”		“4”
r2	"5"		“6”		“a”		“b”
r3 	“c”		“d”		“e”		“f”
'''
```

> 实际开放中，一般是把最终结果存储到提前生成好的矩阵中，值先用NA填充

```R
matrix(
    nrow=2, 
    ncol=3, 
    dimnames=list(c("r1", "r2"), 
                  c("c1", "c2", "c3"))
)
'''
	c1		c2		c3
r1	NA		NA		NA
r2	NA		NA		NA	
'''
```

## 二、矩阵的属性和维度信息

#### 2.1 属性

```R
# 行名称
rownames(m1);		# ["r1", "r2"]

# 列名称
 colnames(m1);		# ["c1", "c2", "c3"]

# 行和列的名称
dimnames(m1)		# [["r1", "r2"], ["c1", "c2", "c3"]]

# 可以赋值，重新设置
dimnames(m1) <- list(c("ra", "rb"), c("ca", "cb", "cc"))
```

#### 2.2 维度信息

```R
# 获得矩阵行数
nrow(m1)			# 2

# 获得矩阵列数
ncol(m1)			# 3

# 获得矩阵行和列
dim(m1)				# 2, 3
```

## 三、矩阵索引

> 通过行、列索引取值

```R
'''''
print(m2):
	c1		c2		c3		c4
r1	"1"		"2"		“3”		“4”
r2	"5"		“6”		“a”		“b”
r3 	“c”		“d”		“e”		“f”
'''
# matrix[row, col], 伪代码
# 表示取出行1，列2的值
m2[1, 2]		# “2”

# 表示取出矩阵行1所有的值，返回类型向量
m2[1, ]			
‘’‘
c1		c2		c3		c4
"1"		"2"		"3"		"4"
’‘’

# 表示取出矩阵列2所有的值，返回类型向量
m2[, 2]
'''
r1		r2		r3
"2"		"6"		"d"
'''

# 表示取出矩阵范围行1至行2和列2至列3的值，返回类型矩阵
m2[1:2, 2:3]
'''
	c2		c3
r1	"2"		"3"
r2	"6"		"a"
'''

# 表示取出矩阵包含行1、行3和列2、列4的值，返回类型矩阵
m2[c(1, 3), c(2, 4)]
'''
	c2		c4
r1	"1"		"4"
r3	"c"		"f"
'''
```

> 通过行、列名称进行取值

```R
m2["r1",]		
'''
c1	 c2	  c3   c4
"1", "2", "3", "4"
'''

m2[, "c1"]		
'''
r1   r2   r3
"1", "5", "c"
'''

m2[c("r1", "r2"), c("c2", "c3")]
'''
	c2		c3
r1	"2"		"3"
r2	"6"		"a"
'''
```

## 四、矩阵的类型转换

```R
# 转换为向量
as.vector(m1)		# 1, 2, 3, 4, 5, 6
# 注意了，从矩阵塌陷到向量，是从列方向顺序开始。
as.vector(m2)		# "1", "5", "c", "2", "6", "d", "3", "a", "e", "4", "b", "f"
```

